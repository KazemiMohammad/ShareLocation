(this["webpackJsonploaction-sharing"]=this["webpackJsonploaction-sharing"]||[]).push([[0],{31:function(e,t,n){},32:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var c,a,o,i,l,s,r,j,d=n(0),b=n.n(d),u=n(7),h=n.n(u),O=(n(31),n(32),n(8)),p=n(9),f=p.a.div(c||(c=Object(O.a)(["\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  z-index: 1100;\n  width: 420px;\n  outline: 0;\n\n  @media (max-width: 420px) {\n    width: 90vw;\n  }\n"]))),g=p.a.div(a||(a=Object(O.a)(["\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background: rgba(256, 256, 256, 0.9);\n  z-index: 1001;\n"]))),x=p.a.div(o||(o=Object(O.a)(["\n  z-index: 100;\n  background: white;\n  position: relative;\n  margin: auto;\n  border-radius: 8px;\n  border: solid 1px rgb(68, 139, 201);\n"]))),m=p.a.div(i||(i=Object(O.a)(["\n  border-radius: 7px 7px 0 0;\n  background-color: rgb(68, 139, 201);\n  display: flex;\n  justify-content: space-between;\n  padding: 0.5rem;\n"]))),v=p.a.div(l||(l=Object(O.a)(["\n  color: #fff;\n  font-weight: 500;\n  align-self: center;\n"]))),L=p.a.button(s||(s=Object(O.a)(["\n  color: #fff;\n  font-size: 0.8rem;\n  border: none;\n  border-radius: 3px;\n  margin-left: 0.5rem;\n  background: none;\n  :hover {\n    cursor: pointer;\n  }\n"]))),y=p.a.div(r||(r=Object(O.a)(["\n  padding: 10px;\n  max-height: 30rem;\n  overflow-x: hidden;\n  overflow-y: auto;\n"]))),w=n(1),S=function(e){var t=e.isShown,n=e.hide,c=e.modalContent,a=e.headerText,o=Object(w.jsxs)(b.a.Fragment,{children:[Object(w.jsx)(g,{}),Object(w.jsx)(f,{children:Object(w.jsxs)(x,{children:[Object(w.jsxs)(m,{children:[Object(w.jsx)(v,{children:a}),Object(w.jsx)(L,{onClick:n,children:"X"})]}),Object(w.jsx)(y,{children:c})]})})]});return t?h.a.createPortal(o,document.body):null},N=n(5),C=n(2),k=n(42),M=n(43),T=n(44),z=n(46),E=n(4),P="ADD_LOCATION",D="EDIT_LOCATION",I="SET_SELECTED_LOCATION";!function(e){e.Business="Business",e.Home="Home",e.School="School"}(j||(j={}));n(21);var A=n(6),F=n.n(A).a.icon({iconUrl:"marker.png",iconSize:[20,35],iconAnchor:[10,35]}),B=(n(39),function(e){return{selectedLocation:e.selectedLocation}});function _(e){Object(k.a)({click:function(t){e.setLatLng(t.latlng)}});return Object(w.jsx)(M.a,{position:e.latLng,icon:F})}function H(e){var t=Object(E.b)(),n=Object(E.c)(B).selectedLocation,c=Object(d.useState)(n.name?n.name:""),a=Object(N.a)(c,2),o=a[0],i=a[1],l=Object(d.useState)({lat:n.lat,lng:n.lng}),s=Object(N.a)(l,2),r=s[0],b=s[1],u=Object(d.useState)(n.type?n.type:j.Home),h=Object(N.a)(u,2),O=h[0],p=h[1],f=Object(d.useState)(n.image),g=Object(N.a)(f,2),x=g[0],m=g[1];return Object(w.jsx)("div",{className:"share-location-component",children:Object(w.jsxs)("div",{className:"form",children:[Object(w.jsx)("span",{children:"Location name:"}),Object(w.jsx)("input",{className:"location-name",type:"text",value:o,onChange:function(e){i(e.target.value)}}),Object(w.jsx)("span",{children:"Location on map:"}),Object(w.jsxs)(T.a,{center:n,zoom:15,scrollWheelZoom:!1,className:"map",children:[Object(w.jsx)(z.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(w.jsx)(_,{latLng:r,setLatLng:b})]}),Object(w.jsx)("span",{className:"form-label",children:"Location Type: "}),Object(w.jsx)("select",{onChange:function(e){p(j[e.target.value])},value:O,className:"location-type",children:Object.keys(j).map((function(e){return Object(w.jsx)("option",{value:e,children:e},e)}))}),Object(w.jsx)("span",{children:"Logo:"}),Object(w.jsx)("input",{type:"file",onChange:function(e){e.target.files&&m(e.target.files[0])},className:"logo-file-input"}),Object(w.jsxs)("div",{className:"btn-wrapper",children:[Object(w.jsx)("button",{onClick:function(){e.hideModal()},className:"btn",children:"Cancel"}),Object(w.jsx)("button",{onClick:function(){var c=Object(C.a)(Object(C.a)({},r),{},{id:n.id,name:o,type:O,image:x});n.id?t({type:D,payload:c}):t(function(e){return{type:P,payload:e}}(c)),e.hideModal()},className:"btn default",children:"Save"})]})]})})}var J=n(45);n(40);function W(e){var t=e.location;return Object(w.jsxs)("div",{className:"location-detail-component",children:[Object(w.jsx)("div",{className:"header",children:"Location Details"}),Object(w.jsxs)("div",{className:"form",children:[Object(w.jsx)("span",{children:"Location name:"}),Object(w.jsx)("span",{children:t.name}),Object(w.jsx)("span",{children:"Location Type: "}),Object(w.jsx)("span",{children:t.type}),Object(w.jsxs)("div",{className:"btn-wrapper",children:[Object(w.jsx)("button",{className:"btn",onClick:e.closePopup,children:"Close"}),Object(w.jsx)("button",{className:"btn default",onClick:function(){e.closePopup(),e.showShareLocationModal()},children:"Edit"})]})]})]})}var Z=function(e){return{locations:e.locations,selectedLocation:e.selectedLocation}};function U(e){var t=Object(E.c)(Z).locations,n=Object(k.a)({click:function(t){var n=Object(C.a)({},t.latlng);e.showShareLocationModal(n)}});return Object(d.useEffect)((function(){if(t.length){var e=n.getCenter(),c={lat:t[t.length-1].lat,lng:t[t.length-1].lng};e!==c&&n.flyTo(c)}}),[t,n]),t.length?t.map((function(t){return Object(w.jsx)(M.a,{position:[t.lat,t.lng],icon:F,children:Object(w.jsx)(J.a,{children:Object(w.jsx)(W,{location:t,closePopup:function(){n.closePopup()},showShareLocationModal:function(){return e.showShareLocationModal(t)}})})},t.id)})):null}function X(e){var t=Object(E.b)(),n=Object(E.c)(Z).selectedLocation,c=Object(E.c)(Z).locations,a=c.length?{lat:c[0].lat,lng:c[0].lng}:n;return Object(w.jsx)("div",{className:"app",children:Object(w.jsxs)(T.a,{center:a,zoom:13,scrollWheelZoom:!1,style:{height:"100vh",width:"100vw"},children:[Object(w.jsx)(z.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(w.jsx)(U,{showShareLocationModal:function(n){t({type:I,payload:n}),e.toggle()}})]})})}var q=function(e){return{locations:e.locations}};var G=function(){var e=function(){var e=Object(d.useState)(!1),t=Object(N.a)(e,2),n=t[0],c=t[1];return{isShown:n,toggle:function(){c(!n)}}}(),t=e.isShown,n=e.toggle,c=Object(E.c)(q).locations;Object(d.useEffect)((function(){!c.length&&n()}),[c]);var a=Object(w.jsx)(H,{hideModal:n});return Object(w.jsxs)("div",{className:"app",children:[Object(w.jsx)(X,{toggle:n}),Object(w.jsx)(S,{headerText:"Share Location",isShown:t,hide:n,modalContent:a})]})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),o(e),i(e)}))},Q=n(25),R=n(18),V={locations:[],selectedLocation:{lat:51.505,lng:-.09}},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(C.a)(Object(C.a)({},e),{},{locations:[].concat(Object(R.a)(e.locations),[Object(C.a)(Object(C.a)({},t.payload),{},{id:Math.floor(1e3*Math.random())})])});case D:return Object(C.a)(Object(C.a)({},e),{},{locations:[].concat(Object(R.a)(e.locations.filter((function(e){return e.id!==t.payload.id}))),[t.payload])});case I:return Object(C.a)(Object(C.a)({},e),{},{selectedLocation:t.payload});default:return e}},$=Object(Q.a)(Y);h.a.render(Object(w.jsx)(b.a.StrictMode,{children:Object(w.jsx)(E.a,{store:$,children:Object(w.jsx)(G,{})})}),document.getElementById("root")),K()}},[[41,1,2]]]);
//# sourceMappingURL=main.14d187e2.chunk.js.map